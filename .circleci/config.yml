version: 2.1

jobs:
  build:
    docker:
      - image: circleci/node:latest
    environment:
      CIRCLE_COMPARE_URL: << pipeline.project.git_url >>/compare/<< pipeline.git.base_revision >>..<<pipeline.git.revision>>
    steps:
      - run: echo $CIRCLE_COMPARE_URL
      - run: echo 'pipeline.id                << pipeline.id                >> - a globally unique id representing the pipeline'
      - run: echo 'pipeline.number            << pipeline.number            >> - a project unique integer id for the pipeline'
      - run: echo 'pipeline.project.git_url   << pipeline.project.git_url   >> - e.g. https://github.com/circleci/circleci-docs'
      - run: echo 'pipeline.project.type      << pipeline.project.type      >> - e.g. "github"'
      - run: echo 'pipeline.git.tag           << pipeline.git.tag           >> - the tag triggering the pipeline'
      - run: echo 'pipeline.git.branch        << pipeline.git.branch        >> - the branch triggering the pipeline'
      - run: echo 'pipeline.git.revision      << pipeline.git.revision      >> - the current git revision'
      - run: echo 'pipeline.git.base_revision << pipeline.git.base_revision >> - the previous git revision'



version: 2.1

orbs:
  orb-utils:
    executors:
      default:
        docker:
          - image: cibuilds/snapcraft:stable
    jobs:
      orb-doc-generation:
        executor: default
        steps:
          - checkout
          - run: snap install yq
          # TODO: this could get fragile as more people use config packing
          - run: yq r ./.circleci/config.yml

workflows:
  test:
    jobs:
      - orb-utils/orb-doc-generation
